{% extends 'base.html.twig' %}

{% block body %}
    <div class="jumbotron mt-3">
        <h1>Search</h1>

        <form method="get">
            <div class="input-group">
                <input type="text" class="form-control" name="keywords" value="{{ app.request.query.get('keywords', '') }}" placeholder="Keywords">
                <div class="input-group-append">
                    <button class="btn btn-secondary" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>

        <sub>{{ count }} movies found</sub>
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Year</th>
                <th scope="col">Cast</th>
                <th scope="col">Genres</th>
            </tr>
            </thead>
            <tbody>
            {% for movie in movies %}
                <tr>
                    <th scope="row">{{ movie.title }}</th>
                    <td>{{ movie.year }}</td>
                    <td>{{ movie.cast|join(', ') }}</td>
                    <td>{{ movie.genres|join(', ') }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}